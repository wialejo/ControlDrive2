
<div ng-controller="ConsultaServiciosController as vm">
    <div class="row">
        <div class="col-sm-12">
            <div class="panel panel-default">
                <div class="panel-heading form-inline">
                <form name="formConsulta" class="form-inline" ng-submit="formConsulta.$valid && vm.ObtenerServicios()">
                    <div class="form-group">
                        <label for="TxtFechaInicial">Fecha inicial</label>
                        <input  tabindex="5" ng-model="vm.fechaInicial" required ui-mask="99/99/9999" model-view-value="true" type="text" class="form-control input-sm" name="TxtFechaInicial" placeholder="dd/MM/yyyy">
                    </div>
                    <div class="form-group">
                        <label for="TxtFechaFinal">Fecha final</label>
                        <input  tabindex="10" ng-model="vm.fechaFinal" required ui-mask="99/99/9999" model-view-value="true" type="text" class="form-control input-sm" name="TxtFechaFinal" placeholder="dd/MM/yyyy">
                    </div>
                        <button type="submit" class="btn btn-primary btn-sm">Consultar</button>
                </div>
                <div class="panel-body">
                    <div class="panel panel-default">
                        <div class="table-responsive">
                            <table st-table="displayedCollection" st-safe-src="vm.servicios" class="table text-xs table-condesed">
                                <thead>
                                    <tr>
                                        <th>
                                            Id
                                        </th>
                                        <th>
                                            Fecha y Hora
                                        </th>
                                        <th st-sort="Estado.Descripcion">
                                            Estado
                                        </th>
                                        <th>
                                            Radicado
                                        </th>
                                        <th>
                                            Aseguradora
                                        </th>
                                        <th>
                                            Asignado por
                                        </th>
                                        <th>
                                            Vehiculo
                                        </th>
                                        <th>
                                            Asegurado
                                        </th>
                                        <th>
                                            Ruta
                                        </th>
                                        <th>
                                            Conductor
                                        </th>
                                        <th>
                                            Ruta
                                        </th>
                                    </tr>
                                    <tr>
                                        <td colspan="12">
                                            <input type="text" class="form-control input-sm" placeholder="Buscar..." st-search />
                                        </td>
                                    </tr>
                                </thead>
                                <tbody ng-repeat="svr in displayedCollection">
                                    <tr>
                                        <td>
                                            {{svr.Id}}
                                        </td>
                                        <td>
                                            {{svr.Fecha | date:'HH:mm'}} <br />
                                            {{svr.Fecha | date:'dd/MM/yyyy'}}
                                        </td>
                                        <td>
                                            {{svr.Estado.Descripcion }}
                                        </td>
                                        <td>
                                            {{svr.Radicado }}
                                        </td>
                                        <td>
                                            {{svr.Aseguradora.Nombre }}
                                        </td>
                                        <td>
                                            {{svr.AsignadoPor }}
                                        </td>
                                        <td>
                                            {{svr.Vehiculo.Placa }} <br /> {{svr.Vehiculo.Marca }} {{svr.Vehiculo.Referencia }}
                                        </td>
                                        <td>
                                            {{svr.Asegurado.Nombre }} <br /> {{ svr.Asegurado.Telefono1 }} - {{ svr.Asegurado.Telefono2 }}
                                        </td>
                                        <td>
                                            - {{svr.DireccionInicio.Descripcion}}, {{svr.DireccionInicio.Ciudad.Nombre}}, {{svr.DireccionInicio.Barrio}} <br />
                                            - {{svr.DireccionDestino.Descripcion}}, {{svr.DireccionDestino.Ciudad.Nombre}}, {{svr.DireccionDestino.Barrio}}
                                        </td>
                                        <td>
                                            {{svr.Conductor.Nombre }}
                                        </td>
                                        <td>
                                            {{svr.Ruta.Nombre }}
                                        </td>
                                        <td>
                                            <input type="button" ng-click="vm.Editar(svr);" value="Editar" class="btn btn-sm btn-info" />
                                        </td>
                                    </tr>
                                </tbody>
                                <tfoot>
                                    <tr>
                                        <td colspan="11" class="text-center">
                                            <div st-pagination="" st-items-by-page="25" st-displayed-pages="7" st-template="/app/components/pagination.html" ></div>
                                        </td>
                                    </tr>
                                </tfoot>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
